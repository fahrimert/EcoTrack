 @Test
    void shouldReturnAllSensors() throws Exception {
        SensorDTO sensorDTO1 = new SensorDTO();
        sensorDTO1.setId(1L);
        sensorDTO1.setSensorName("mock sensor 1");
        sensorDTO1.setStatus(SensorStatus.ACTIVE.getDisplayName());
        sensorDTO1.setCurrentSensorSession(null);
        sensorDTO1.setLatitude(25);
        sensorDTO1.setLongitude(25);

        SensorDTO sensorDTO2 = new SensorDTO();
        sensorDTO2.setId(2L);
        sensorDTO2.setSensorName("mock sensor 2");
        sensorDTO2.setStatus(SensorStatus.ACTIVE.getDisplayName());
        sensorDTO2.setCurrentSensorSession(null);
        sensorDTO2.setLatitude(35);
        sensorDTO2.setLongitude(35);

        List<SensorDTO> sensorDTOList = new ArrayList<>();

        sensorDTOList.add(sensorDTO1);
        sensorDTOList.add(sensorDTO2);


        when(sensorService.getAllSensor())
                .thenReturn(sensorDTOList);

        mockMvc.perform(get("/sensors")
                        .with(csrf())
                        .contentType(MediaType.APPLICATION_JSON))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$[0].id").value(1L))
                .andExpect(jsonPath("$[0].sensorName").value("mock sensor 1"))
                .andExpect(jsonPath("$[0].latitude").value(25.0))
                .andExpect(jsonPath("$[1].id").value(2L))
                .andExpect(jsonPath("$[1].longitude").value(35.0));
    }

    @Test
    void  shouldReturnEmptyListWhenNoSensors() throws  Exception{
when(sensorService.getAllSensor()).thenReturn(Collections.emptyList());

        mockMvc.perform(get("/sensors"))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$",empty()));
    }

    @Test
    void  shouldHandleNullValuesSafely() throws  Exception{
        SensorDTO dto = new SensorDTO();
        dto.setId(1L);

        when(sensorService.getAllSensor()).thenReturn(List.of(dto));

        mockMvc.perform(get("/sensors"))
                .andExpect(jsonPath("$[0].status").doesNotExist());
    }